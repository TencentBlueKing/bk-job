## Introduction

The job execution engine is the core module of the job platform and is responsible for the creation, scheduling, and execution of job tasks.

Tasks triggered by users from the Job Web page, cronJob, and third-party applications (OpenApi) are scheduled by the execution engine and then sent to the GSE to complete command execution and file distribution capabilities.

## Design


### Overview

![EngineArchitecture](../resource/img/job_execute_engine_architecture_en.png)

As can be seen from the execution engine architecture diagram, the execution engine is based on **RabbitMQ** and implements an **event-based task scheduling engine**. Different stages of task execution trigger corresponding events (JobEvent\StepEvent\GseTaskEvent), driving the corresponding **event handler** (JobEventHandler\StepEventHandler\GseTaskEventHandler) to complete the business logic.

### Dependent platform description

- BK-IAM: Operation authentication
- BK-CMDB: The Job platform uses cmdb resources, such as business, host (host topology, dynamic grouping, etc.), container (container topology)
- BK-Audit: Audit records of job execution related operations
- GSE: Provides "command pipeline" and "file pipeline". The job platform delivers tasks to the GSE Agent on the execution target through the GSE Server, and obtains the task execution results from the GSE
- Bk-Repo: Used to store local files uploaded by users and files generated by job platform